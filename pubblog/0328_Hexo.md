### Hexo静态博客

#### 安装流程： 

1. 下载安装 Node.js  
官网下载链接： [Node.js v4.4.0](https://nodejs.org/en/download/) 

2. 通过 `npm` 命令执行：   
```
npm install hexo -g
```
3. 升级hexo 到最新版：  
```
npm update hexo -g
```
4. 初始化：  
```
hexo init <folder>
``` 
如果指定`<folder>`，便会在目前的资料夹建立一个名为 `<folder>` 的新资料夹；否则会在目前资料夹初始化。  
这里执行init创建一个名为xblog的目录：  
```
hexo init xblog
``` 
5. 安装依赖：  
```
npm install
```
6. 生成静态页：  
```
hexo generate (可以简写成：hexo g)
```
7. 开启服务：  
```
hexo s
```

#### 发布到git服务器

1. 在上面创建的`xblog`文件夹下，找到`_config.yml`，找到其中的`deploy`标签，改成如下形式，并保存：  
```
deploy: 
  type: git
  repository: http://github.com/aaa/hello.git
  branch: gh-pages
```

*** 

#### Hexo博客安装及配置  (2016-9-8 更新)

##### 安装前保证已安装：

* Node.js
	* `$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh
`
	* `$ nvm install stable`
* Git
	* `$ sudo apt-get install git-core`


##### 安装 Hexo

```
$ npm install -g hexo-cli
```

##### 建站

执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件

```
$ hexo init <folder>
$ cd <folder>
$ npm install
```

这里假设我要创建的博客所在目录名为 `xblog` ,则命令为：

```
$ hexo init xblog
$ cd xblog
$ npm install
```

##### 生成静态页

```
$ hexo g # (hexo generate)
```

##### 启动服务

```
$ hexo s # (hexo server)
```

hexo默认使用 `4000`端口进行预览，如果端口被占用，可以用 `hexo s -p 5000`  指定端口号为 `5000` 或者其他没被占用的


##### 常用命令

```
hexo generate (hexo g) 生成静态文件，会在当前目录下生成一个新的叫做public的文件夹
hexo server (hexo s) 启动本地web服务，用于博客的预览
hexo deploy (hexo d) 部署播客到远端（比如github, heroku等平台）
$ hexo new "postName" #新建文章
$ hexo new page "pageName" #新建页面
$ hexo clean  清理public文件
```

简写：

```
$ hexo n == hexo new
$ hexo g == hexo generate
$ hexo s == hexo server
$ hexo d == hexo deploy
$ hexo d -g #生成部署
$ hexo s -g #生成预览
```

##### hexo 版本

可以通过 `hexo -v` 查看当前hexo的版本信息：

```
$ hexo -v
hexo: 3.2.2
hexo-cli: 1.0.2
os: Windows_NT 10.0.10586 win32 x64
http_parser: 2.5.2
node: 4.4.0
v8: 4.5.103.35
uv: 1.8.0
zlib: 1.2.8
ares: 1.10.1-DEV
icu: 56.1
modules: 46
openssl: 1.0.2g
```

***

#### Hexo配置

在Hexo中, 你写的markdown博客会存储在 `your_blog_root_path/source/_posts` 下。


##### 更换主题 theme

以主题 [hexo-theme-yilia]() 为例，首先下载该主题：

```
$ cd xblog
$ git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia
```

修改 `_config.yml` 中的 `theme: landscape` 改为 `theme: yilia` ，然后重新执行 `hexo g` 来重新生成。

如果出现一些莫名其妙的问题，可以先执行 `hexo clean` 来清理一下 `public` 的内容，然后再来重新生成和发布。

*** 

安装 `NexT` 主题 

```
$ cd your-hexo-site
$ git clone https://github.com/iissnan/hexo-theme-next themes/next
```

打开 站点配置文件， 找到 theme 字段，并将其值更改为 next。

```
theme: next
```


在 Hexo 中有两份主要的配置文件，其名称都是 _config.yml。 其中，一份位于站点根目录下，主要包含 Hexo 本身的配置；另一份位于主题目录下，这份配置由主题作者提供，主要用于配置主题相关的选项。

为了描述方便，在以下说明中，将前者称为 站点配置文件， 后者称为 主题配置文件。



* [NexT 使用文档](http://theme-next.iissnan.com/)
* [开始使用 - NexT 使用文档](http://theme-next.iissnan.com/getting-started.html)
* [Home · iissnan/hexo-theme-next Wiki · GitHub](https://github.com/iissnan/hexo-theme-next/wiki)

*** 

#### Hexo 中的 Front-matter

hexo中有Front-matter这个概念，是文件最上方以 — 分隔的区域，用于指定个别文件的变量。

常见 Front-matter：

```
---
title: hexo next  		  # 文章标题
date: 2016-9-9 16:04:54   # 文章发布日期
tags: [github,html5]
tags:
	- github
	- html5 			 # tags 文章的标签，可以通过数组方式或yaml方式指定
categories: 前端   		  # 文章所属分类
description: 这里是文章描述，大概140个字左右  # 文章描述

---

下面是文章正文 ...

```

需要注意的是：

* 冒号后面与内容直接要有一个空格，否则无法编译生成
* 正文与Front-matter直接要有一个空行
* 为文章添加描述文字处理指定 `description` 之外，还可以在正文中添加 `<!--more-->` 标签分隔内容。


常见问题
1. 修改配置文件时注意YAML语法，参数冒号:后一定要留空格
2. 中文乱码请修改文件编码格式为UTF-8
3. yml文件中所有有空格的字段都用双引号括起来

***

#### Hexo 部署到 Github

到github新建一个项目，项目名为：`你的用户名.github.io` **必须为这个名字**

Hexo 目前没有自带 Git 部署模块，需手动安装:

```
npm install hexo-deployer-git --save
```

然后，配置文件_config.yml

```
deploy:
  type: git
  repository: git@github.com:你的帐号/你的帐号.github.com.git  #例如我的：repository: git@github.com:zhongbaitu/zhongbaitu.github.com.git
  branch: master
```

然后执行命令：

```
hexo clean
hexo g
hexo d  
(或 hexo g -d)
```

执行完成之后应该是会自动发布到github上了。

~此时，在博客的根目录下会生成一个文件夹：`.deploy`~

~然后我们把这个文件夹里面的文件都 `push` 到刚才新建那个项目就OK了。~

页面文件应当在master分支下。

*** 

#### 创建新页面

使用如下命令创建新页面：

```
hexo n pagename
```
比如 我执行 `hexo n python` ，则在 `\source\_posts\python.md` 下生成一个 `python.md` 文件：

```
---
title: python
date: 2016-09-09 18:03:10
tags:
---

```

注意：默认情况下，文章的文件名和title名是相同的，需要注意的是如果文件名是中文，那么生成的链接后面会自动添加斜杠 `/` `http://localhost:4000/2016/09/08/%E8%AF%B4%E5%87%BA%E6%9D%A5%E9%83%BD%E6%98%AF%E6%B3%AA%E5%91%80/` 如果去掉该斜杠 `/` 会直接报错。所以推荐文件名用英文来写，标题可以改成中文。



octotree  github 树形查看Chrome插件


```
cd ~/桌面/poetries.github.io/

git config --global user.name "poetries"
git config --global user.email "jingguanliuye@gmail.com"
git  add .
git  commit -m  "update docs"
git  remote rm origin
git remote add origin  git@github.com:poetries/poetries.github.io.git
git push origin dev:dev
```


